<?php
/**
 * Get Mail content
 * @param array $node
 * @return string
 */
function itg_sso_get_mail_content($account, $to) {
  
   $mail_content = itg_sso_notification_mail_content($account);

  $params = array(
      'body' => $mail_content,
      'subject' => 'India Today | Activate Account',
    );

   
    $mail = drupal_mail('itg_sso_reg_user', 'send_mail_to_sso_user', $to, language_default(), $params, 'no-reply@kelltontech.com', TRUE);
    if ($mail['result']) {
      return TRUE;
    }
    else {
      $error_msg = 'Failed to send the email!';
      watchdog('canvas-email', $error_msg, array(), WATCHDOG_ALERT);
      return FALSE;
    }
  
}

/**
 * Get approval mail content
 * @param object $node
 * @return type
 */
function itg_sso_notification_mail_content($account) {
  return theme('itg_sso_notification_mail', array('account' => $account));
}