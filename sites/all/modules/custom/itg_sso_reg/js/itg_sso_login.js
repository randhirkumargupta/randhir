function getCookie(t){for(var s=t+"=",o=document.cookie.split(";"),e=0;e<o.length;e++){for(var i=o[e];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(s))return i.substring(s.length,i.length)}return""}!function(t){Drupal.behaviors.itg_sso_login={attach:function(s,o){var e=getCookie("itg_forced_login");console.log(e);var i=Drupal.settings.itg_sso_login.settings.base_url,n=Drupal.settings.itg_sso_login.settings.uid,r=Drupal.settings.itg_sso_login.settings.check_sso_url,l=Drupal.settings.itg_sso_login.settings.user_arg,u=Drupal.settings.itg_sso_login.settings.sso_url+"/saml_login/other/"+Drupal.settings.itg_sso_login.settings.front_url;Drupal.settings.itg_sso_login.settings.change_arg,n&&("domain_info"==r&&opener&&opener.location.reload(!0),"user"==l&&window.close()),jQuery("a#myhref").attr("href","javascript:void(0)");var g=Drupal.settings.itg_sso_login.settings.logoutsec;jQuery("body").on("click","#myhref",function(){jQuery.ajax({url:i+"/itguserlogout",success:function(t){jQuery("#iframe-display").html(t),jQuery("#widget-ajex-loader").show(),setTimeout(function(){window.location=i},g)}})}),jQuery("body").on("click",".close-pass-popup",function(){t(this).parent().parent().hide(),jQuery.ajax({url:i+"/itguserlogout",success:function(t){jQuery("#iframe-display").html(t),jQuery("#widget-ajex-loader").show(),setTimeout(function(){window.location=u},g)}})}),jQuery("#itg-sso-reg-password-form  label[for='edit-pass-pass1']").text("New password"),""!=e&&"null"!=e&&(console.log(e),jQuery.ajax({url:Drupal.settings.itg_widget.settings.base_url+"/itg-load-my-account",type:"post",data:"",beforeSend:function(){},success:function(t){0!=t.length&&jQuery(".user-menu").html(t)},error:function(t,s,o){console.log(t),console.log("Details: "+s+"\nError:"+o)}}))}}}(jQuery,Drupal,this.document);
