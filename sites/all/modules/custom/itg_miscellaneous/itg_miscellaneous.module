<?php

/**
 * @file
 * The ITG miscellaneousn module.
 *
 * Provides common functionality and customizations.
 *
 */

/**
 * Implements hook_init.
 * {@inheritdoc}
 */
//function itg_miscellaneous_init() {
//  global $user;
//  //p(node_load(2540));
//}

module_load_include('inc', 'itg_miscellaneous', 'includes/itg_custom_db_script');

//file include for tags migrate 
module_load_include('inc', 'itg_miscellaneous', 'includes/itg_tags_script_save');


/**
 * Implements hook_menu().
 * @return array $items
 */
function itg_miscellaneous_menu() {

  $items['itg-admin-layout-list'] = array(
      'page callback' => 'itg_layout_list_delete',
      'access arguments' => array('access administrator'),
      'type' => MENU_CALLBACK,
      'file' => 'includes/itg_miscellaneous.inc',
  );

  /*$items['itg-delete-layout/%'] = array(
      'page callback' => 'itg_layout_delete',
      'access arguments' => array('access administrator'),
      'type' => MENU_CALLBACK,
      'file' => 'includes/itg_miscellaneous.inc',
  );*/

  $items['section-widgets-list-delete'] = array(
      'page callback' => 'itg_section_widgets_list_delete',
      'access arguments' => array('access administrator'),
      'type' => MENU_CALLBACK,
      'file' => 'includes/itg_miscellaneous.inc',
  );

  $items['create-poll-table'] = array(
      'page callback' => 'create_poll_table',
      'access arguments' => array('access administrator'),
      'type' => MENU_CALLBACK,
      'file' => 'includes/itg_miscellaneous.inc',
  );

  $items['create-section-category-in-mongo'] = array(
      'page callback' => 'drupal_get_form',
      'page arguments' => array('create_section_category_in_mongo'),
      'access arguments' => array('access administrator'),
      'type' => MENU_CALLBACK,
      'file' => 'includes/itg_miscellaneous.inc',
  );
  $items['create-index-for-story-migration'] = array(
      'page callback' => 'create_index_xml',
      'access arguments' => array('access administrator'),
      'type' => MENU_CALLBACK,
      'file' => 'includes/itg_story_clean.inc',
  );
   $items['create-story-xml-clean'] = array(
      'page callback' => 'create_story_xml_clean',
      'access arguments' => array('access administrator'),
      'type' => MENU_CALLBACK,
      'file' => 'includes/itg_story_clean.inc',
  );
 
  $items['create-video-xml-clean'] = array(
      'page callback' => 'create_video_xml_clean',
      'access arguments' => array('access administrator'),
      'type' => MENU_CALLBACK,
      'file' => 'includes/itg_video_clean.inc',
  );
  
  $items['itg-related-content-migrate'] = array(
    'title' => 'api callback menu',
    'page callback' => 'itg_db_migrate_related_content',
    'access callback' => TRUE,
  );
  
  $items['alter-sso-nid'] = array(
    'title' => 'sso nid callback menu',
    'page callback' => 'itg_sso_nid_callback',
    'access callback' => TRUE,
    'file' => 'includes/itg_miscellaneous.inc',
  );
  

  
  return $items;
}


/**  
 *  implements hook_advagg_get_root_files_dir_alter()
 */
function itg_miscellaneous_advagg_get_root_files_dir_alter(&$css_paths, &$js_paths) {  
  if ($css_paths[0] == 'public://advagg_css' || $js_paths[0] == 'public://advagg_js') {    
    $css_paths[0] = 's3://css';    $js_paths[0] = 's3://js';  
    
  }
  
} 
