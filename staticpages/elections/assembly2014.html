<!doctype html>
<html lang="en">
 <head>
  <title>General Election 2014</title>
<script src="https://itgd-mum-dev-static.s3.amazonaws.com/media/others/mediaintoday/indiatoday/js/jquery.min.1.8.2.js" type="text/javascript"></script>
<script src="http://election2014live.intoday.in/elections/js/highcharts.js"></script>
<!-- Election From -->
<link href="http://election2014live.intoday.in/elections/css/election-it.css" type="text/css" rel="stylesheet" />
<script>
var domain = "http://election2014live.intoday.in";
var fpath = "/elections/js/";
function loadPieAssemblyAllianceSmallContainer(a,s)
{
var aURL = domain+fpath+"alliance/"+a+"-assembly-alliance.json";
//alert(aURL);
$.ajax({type: "GET",url: aURL,dataType: "jsonp",crossDomain: true,jsonpCallback: 'e'+a.replace("-","")+'2014',success: function (data)
{
//alert(data);
	  var combined = []; 
	  var colorArray=[];
	var aName = data.loksabha.aName;
	var aSeats = data.loksabha.aSeats;
	
	for(var x = 0;x < data.loksabha.items.length; x++)
	 {
	  colorArray[x]=data.loksabha.items[x].pColor;
	  combined.push([data.loksabha.items[x].pName,(parseInt(data.loksabha.items[x].pLead) + parseInt(data.loksabha.items[x].pWon))])
	 }


	//$(function () {
		//alert('#pieAllianceSmallContainer_'+a);
    $('#piealliancesmallcontainer_'+s).highcharts({
		colors:colorArray,
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: 0,
            plotShadow: false
        },
        title: {
            text: aName+'('+aSeats+')',
            align: 'center',
            verticalAlign: 'middle',
            y: 25
        },
        tooltip: {
				enabled: true,
            pointFormat: '<b>{point.y}</b>'
        },
        plotOptions: {
            pie: {
                dataLabels: {
                    enabled: false,
                    distance: -50,
                    style: {
                        fontWeight: 'bold',
                        color: 'white',
                        textShadow: '0px 1px 2px black'
                    }
                },
                startAngle: -90,
                endAngle: 90,
                center: ['50%', '55%']
            }
        },
        series: [{
            type: 'pie',
            name: '',
            innerSize: '60%',
            data:combined
        }]
    });
//});
}

});


}

 
</script>
 <body>

 <div style="width:1000px" class="con-chunk">

 <ul class="meter-list">
		<li>
	<div id="piealliancesmallcontainer_1" style="min-width: 220px; height: 280px; max-width: 300px; margin: 0 auto"></div>         
	
		</li>
 		<li>
	<div id="piealliancesmallcontainer_2" style="min-width: 220px; height: 280px; max-width: 300px; margin: 0 auto"></div>    
		</li>
 		<li>
	<div id="piealliancesmallcontainer_3" style="min-width: 220px; height: 280px; max-width: 300px; margin: 0 auto"></div>    </li>
 </ul>
</div>

<script>
loadPieAssemblyAllianceSmallContainer("andhra-pradesh",1);
loadPieAssemblyAllianceSmallContainer("odisha",2);
loadPieAssemblyAllianceSmallContainer("sikkim",3);
</script>
			
 </body>
</html>
